File: test-plugin/src/main/kotlin/org/example/plugin/SampleExternalTest.kt
package org.example.plugin

import org.example.project.JUnitBridge
import org.example.project.adb.rules.AdbDeviceRule
import org.junit.Rule
import org.junit.Test

class SampleExternalTest {

    @get:Rule
    val adbDeviceRule = AdbDeviceRule()

    // 本体 (AppViewModel) の logging 関数をブリッジ経由で呼び出す
    private val logger = JUnitBridge.logging

    @Test
    fun giantTestScenario() {
        logger?.invoke("--- [Plugin] 巨大なテストシナリオを開始します ---")

        val serial = adbDeviceRule.deviceSerial
        logger?.invoke("--- [Plugin] 対象デバイス: $serial ---")

        // ここに複雑なデバイス操作ロジックを記述
        Thread.sleep(2000)

        logger?.invoke("--- [Plugin] テストステップ 1 完了 ---")
        Thread.sleep(1000)

        logger?.invoke("--- [Plugin] テスト終了 ---")
    }
}